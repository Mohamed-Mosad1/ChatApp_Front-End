"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[592],{7114:(T,g,c)=>{c.d(g,{t:()=>e});var s=c(6814),d=c(6223),f=c(2296),h=c(5683),a=c(617),b=c(2032),n=c(5879);function C(t,i){if(1&t){const o=n.EpF();n.TgZ(0,"button",5),n.NdJ("click",function(){n.CHM(o);const u=n.oxw();return n.KtG(u.hide=!u.hide)}),n.TgZ(1,"mat-icon"),n._uU(2),n.qZA()()}if(2&t){const o=n.oxw();n.uIk("aria-label","Hide password")("aria-pressed",o.hide),n.xp6(2),n.Oqu(o.hide?"visibility_off":"visibility")}}function v(t,i){1&t&&(n.TgZ(0,"mat-icon",6),n._uU(1,"person"),n.qZA())}function p(t,i){1&t&&(n.TgZ(0,"mat-icon",6),n._uU(1,"email"),n.qZA())}function M(t,i){1&t&&(n.TgZ(0,"mat-icon",6),n._uU(1,"security"),n.qZA())}function m(t,i){1&t&&(n.TgZ(0,"mat-icon",6),n._uU(1,"my_location"),n.qZA())}function r(t,i){1&t&&(n.TgZ(0,"mat-icon",6),n._uU(1,"location_on"),n.qZA())}function _(t,i){if(1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Oqu(o.getErrorMessage())}}let e=(()=>{class t{constructor(o){this.ngControl=o,this.label="",this.type="",this.hide=!0,this.errorMessages={required:"* {{label}} is required!",minlength:"* {{label}} must be at least {{requiredLength}} characters long.",maxlength:"* {{label}} can't be longer than {{requiredLength}} characters.",emailPattern:"* Email must be a valid format (e.g., example@domain.com).",passwordPattern:"* Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character.",isMatching:"* Password Not Matched"},this.onTouched=()=>{},o&&(this.ngControl.valueAccessor=this)}writeValue(o){const l=this.ngControl.control;l&&l.setValue(o,{emitEvent:!1})}registerOnChange(o){}registerOnTouched(o){this.onTouched=o}getErrorMessage(){if(this.ngControl.errors){for(const o in this.ngControl.errors)if(this.errorMessages[o]){let l=this.errorMessages[o];return("minlength"===o||"maxlength"===o)&&(l=l.replace("{{requiredLength}}",this.ngControl.errors[o].requiredLength)),l.replace("{{label}}",this.label)}if("Email"===this.label&&this.ngControl.errors.pattern)return this.errorMessages.emailPattern;if(("Password"===this.label||"New Password"===this.label)&&this.ngControl.errors.pattern)return this.errorMessages.passwordPattern}return""}static#e=this.\u0275fac=function(l){return new(l||t)(n.Y36(d.a5,2))};static#t=this.\u0275cmp=n.Xpm({type:t,selectors:[["app-text-input"]],inputs:{label:"label",type:"type"},standalone:!0,features:[n.jDz],decls:12,vars:14,consts:[[1,"w-100",3,"ngClass"],["matInput","","required","",3,"placeholder","id","name","formControl","type"],["type","button","mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["matPrefix","",4,"ngIf"],[4,"ngIf"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matPrefix",""]],template:function(l,u){1&l&&(n.TgZ(0,"div",0)(1,"mat-form-field")(2,"mat-label"),n._uU(3),n.qZA(),n._UZ(4,"input",1),n.YNc(5,C,3,3,"button",2),n.YNc(6,v,2,0,"mat-icon",3),n.YNc(7,p,2,0,"mat-icon",3),n.YNc(8,M,2,0,"mat-icon",3),n.YNc(9,m,2,0,"mat-icon",3),n.YNc(10,r,2,0,"mat-icon",3),n.YNc(11,_,2,1,"mat-error",4),n.qZA()()),2&l&&(n.Q6J("ngClass","Email to reset password"===u.label?"mb-0":"mb-4"),n.xp6(3),n.Oqu(u.label),n.xp6(1),n.Q6J("placeholder",u.label)("id",u.label)("name",u.label)("formControl",u.ngControl.control)("type","password"===u.type?u.hide?"password":"text":u.type),n.xp6(1),n.Q6J("ngIf","password"===u.type),n.xp6(1),n.Q6J("ngIf","User Name"===u.label||"UserName or Email"===u.label||"KnownAs"===u.label),n.xp6(1),n.Q6J("ngIf","email"===u.type),n.xp6(1),n.Q6J("ngIf","password"===u.type),n.xp6(1),n.Q6J("ngIf","City"===u.label),n.xp6(1),n.Q6J("ngIf","Country"===u.label),n.xp6(1),n.Q6J("ngIf",u.ngControl.errors))},dependencies:[s.ez,s.mk,s.O5,d.u5,d.Fj,d.JJ,d.Q7,d.UX,d.oH,h.lN,h.KE,h.hX,h.TO,h.qo,h.R9,b.c,b.Nt,f.ot,f.RK,a.Ps,a.Hw],styles:["mat-form-field[_ngcontent-%COMP%]{width:inherit}"]})}return t})()},9678:(T,g,c)=>{c.d(g,{a:()=>m});var s=c(6814),d=c(6223),f=c(3403),h=c(553),a=c(5879),b=c(9984),n=c(2425),C=c(2695);const v=function(r){return["/member/",r]},p=function(){return{tab:3}};function M(r,_){if(1&r){const e=a.EpF();a.TgZ(0,"div",1)(1,"div",2),a._UZ(2,"img",3),a.qZA(),a.TgZ(3,"div",4)(4,"ul",5)(5,"li",6)(6,"button",7),a._UZ(7,"i",8),a.qZA()(),a.TgZ(8,"li",6)(9,"button",9),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.addOrRemoveLike(i.member.userName))}),a._UZ(10,"i",10),a.qZA()(),a.TgZ(11,"li",6)(12,"button",11),a._UZ(13,"i",12),a.qZA()()(),a.TgZ(14,"h5",13)(15,"span",14),a.ALo(16,"async"),a._UZ(17,"i",15),a.qZA(),a._UZ(18,"i",16),a._uU(19),a.ALo(20,"titlecase"),a.qZA(),a.TgZ(21,"p",17),a._uU(22),a.qZA()()()}if(2&r){const e=a.oxw();let t;a.xp6(2),a.Q6J("routerLink",a.VKq(20,v,e.member.userName))("queryParams",a.DdM(22,p))("src",e.member.photoUrl==e.baseServerUrl?"./assets/images/default-user-img.png":e.member.photoUrl,a.LSH)("alt",e.member.userName),a.xp6(4),a.Q6J("routerLink",a.VKq(23,v,e.member.userName)),a.xp6(3),a.ekj("text-danger",e.likedUserNames.includes(e.member.userName)),a.xp6(3),a.Q6J("routerLink","/member/"+e.member.userName)("queryParams",a.DdM(25,p)),a.xp6(2),a.ekj("h6",e.member.userName.length>5),a.xp6(1),a.ekj("d-none",!(null!=(t=a.lcZ(16,16,e._presenceService.onlineUsers$))&&t.includes(e.member.userName))),a.xp6(4),a.AsE(" ",a.lcZ(20,18,e.member.userName)," - ",e.member.age," "),a.xp6(3),a.Oqu(e.member.city)}}let m=(()=>{class r{constructor(e,t,i){this._membersService=e,this._toasterService=t,this._presenceService=i,this.likedUserNames=[],this.likeName="",this.baseServerUrl=h.N.baseServerUrl}addOrRemoveLike(e){this._membersService.addOrRemoveLike(e).subscribe({next:t=>{if(this.likeName=t.data.likedUserName,t.message.includes("unliked")){const i=this.likedUserNames.indexOf(this.likeName);-1!==i&&this.likedUserNames.splice(i,1),this._toasterService.info(t.message+this.member.userName)}else this.likedUserNames.push(this.likeName),this._toasterService.success(t.message+this.member.userName)},error:t=>{this._toasterService.error(t.error)}})}static#e=this.\u0275fac=function(t){return new(t||r)(a.Y36(b.Z),a.Y36(n._W),a.Y36(C.Q))};static#t=this.\u0275cmp=a.Xpm({type:r,selectors:[["app-member-card"]],inputs:{member:"member",likedUserNames:"likedUserNames"},standalone:!0,features:[a.jDz],decls:1,vars:1,consts:[["class","card overflow-hidden",4,"ngIf"],[1,"card","overflow-hidden"],[1,"card-image-wrapper"],[1,"card-img-top",2,"cursor","pointer",3,"routerLink","queryParams","src","alt"],[1,"card-body"],[1,"list-inline","text-center","mb-2"],[1,"list-inline-item"],["type","button",1,"btn","btn-warning",3,"routerLink"],[1,"fas","fa-user"],["type","button",1,"btn","btn-warning",3,"click"],[1,"fas","fa-heart"],["type","button",1,"btn","btn-warning",3,"routerLink","queryParams"],[1,"fas","fa-envelope"],[1,"card-title","text-center","mb-2"],[1,"is-online"],[1,"fa","fa-circle-dot","me-1"],[1,"fas","fa-user","me-1"],[1,"card-text","text-muted","text-center"]],template:function(t,i){1&t&&a.YNc(0,M,23,26,"div",0),2&t&&a.Q6J("ngIf",i.member)},dependencies:[s.ez,s.O5,s.Ov,s.rS,f.Bz,f.rH,d.u5,d.UX],styles:[".card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.2);transition-duration:.5s;transition-timing-function:ease-out;opacity:.7}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1);transition-duration:.5s;transition-timing-function:ease-out}.card-image-wrapper[_ngcontent-%COMP%]{overflow:hidden;position:relative}.animate[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.card-img-top[_ngcontent-%COMP%]{height:10rem;object-fit:cover}.card-body[_ngcontent-%COMP%]{height:8rem;overflow:hidden}@keyframes _ngcontent-%COMP%_fa-blink{0%{opacity:1}to{opacity:.4}}.is-online[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-blink 1.5s linear infinite;color:#019601}"]})}return r})()},5476:(T,g,c)=>{c.d(g,{e:()=>v});var s=c(5861),d=c(553),f=c(1142),h=c(1446),a=c(5619),b=c(8180),n=c(5879),C=c(9862);let v=(()=>{class p{constructor(m){this._httpClient=m,this.baseUrl=d.N.baseUrl,this.hubUrl=d.N.hubUrl,this.messageReadSource=new a.X([]),this.messageRead$=this.messageReadSource.asObservable()}createHubConnection(m,r){this.hubConnection=(new h.s).withUrl(this.hubUrl+"message?user="+r,{accessTokenFactory:()=>m.token}).withAutomaticReconnect().build(),this.hubConnection.start().catch(_=>console.log(_.message)),this.hubConnection.on("ReceiveMessageRead",_=>{this.messageReadSource.next(_)}),this.hubConnection.on("NewMessage",_=>{this.messageRead$.pipe((0,b.q)(1)).subscribe({next:e=>{this.messageReadSource.next([...e,_])}})}),this.hubConnection.on("UpdatedGroup",_=>{_.connections.some(e=>e.userName===r)&&this.messageRead$.pipe((0,b.q)(1)).subscribe({next:e=>{e.forEach(t=>{t.dateRead||(t.dateRead=new Date(Date.now()))}),this.messageReadSource.next([...e])}})})}stopHubConnection(){this.hubConnection&&this.hubConnection.stop()}getMessages(m,r,_){let e=(0,f.r)(m,r);return e=e.append("Container",_),(0,f.T)(this.baseUrl+"Messages/get-messages-for-user",e,this._httpClient)}getMesageIsRead(m){return this._httpClient.get(this.baseUrl+"Messages/mark-message-as-read/"+m)}sendMessage(m,r){var _=this;return(0,s.Z)(function*(){return _.hubConnection.invoke("SendMessage",{recipientUsername:m,content:r}).catch(e=>console.log(e))})()}deleteMessage(m){return this._httpClient.delete(this.baseUrl+"Messages/delete-message/"+m)}static#e=this.\u0275fac=function(r){return new(r||p)(n.LFG(C.eN))};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},1634:(T,g,c)=>{function s(d){return f=>{if(!f.parent)return null;const h=f.parent.get(d);return!h||f.pristine||h.pristine?null:f.value!==h.value?{isMatching:!0}:null}}c.d(g,{S:()=>s})},612:(T,g,c)=>{c.d(g,{AH:()=>v,P4:()=>m,wW:()=>p});var s=c(5879),d=c(6814);function f(r,_){if(1&r){const e=s.EpF();s.TgZ(0,"span",7),s.NdJ("click",function(i){s.CHM(e);const o=s.oxw().$implicit,l=s.oxw();return i.preventDefault(),s.KtG(l.removeTab(o))}),s._uU(1," \u274c"),s.qZA()}}const h=function(r){return["nav-item",r]};function a(r,_){if(1&r){const e=s.EpF();s.TgZ(0,"li",3),s.NdJ("keydown",function(i){const l=s.CHM(e).index,u=s.oxw();return s.KtG(u.keyNavActions(i,l))}),s.TgZ(1,"a",4),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.KtG(o.active=!0)}),s.TgZ(2,"span",5),s._uU(3),s.qZA(),s.YNc(4,f,2,0,"span",6),s.qZA()()}if(2&r){const e=_.$implicit;s.ekj("active",e.active)("disabled",e.disabled),s.Q6J("ngClass",s.VKq(15,h,e.customClass||"")),s.xp6(1),s.ekj("active",e.active)("disabled",e.disabled),s.uIk("aria-controls",e.id?e.id:"")("aria-selected",!!e.active)("id",e.id?e.id+"-link":""),s.xp6(1),s.Q6J("ngTransclude",e.headingRef),s.xp6(1),s.Oqu(e.heading),s.xp6(1),s.Q6J("ngIf",e.removable)}}const b=["*"];let n=(()=>{class r{set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}constructor(e){this.viewRef=e}static#e=this.\u0275fac=function(t){return new(t||r)(s.Y36(s.s_b))};static#t=this.\u0275dir=s.lG2({type:r,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}})}return r})(),C=(()=>{class r{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),v=(()=>{class r{get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}constructor(e,t,i){this.renderer=t,this.elementRef=i,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,e)}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=1===this.tabs.length&&!e.active}removeTab(e,t={reselect:!0,emit:!0}){const i=this.tabs.indexOf(e);if(-1!==i&&!this.isDestroyed){if(t.reselect&&e.active&&this.hasAvailableTabs(i)){const o=this.getClosestTabIndex(i);this.tabs[o].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(i,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,t){if(!this.isKeysAllowed)return;const i=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void i[t%i.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),i[t+1])return void i[(t+1)%i.length].focus();i[i.length-1]&&i[0].focus()}}else{e.preventDefault();let o,l=1,u=t;do{u-l<0?(u=i.length-1,o=i[u],l=0):o=i[u-l],l++}while(o.classList.contains("disabled"));o.focus()}else{e.preventDefault();let o,l=0;do{o=i[l%i.length],l++}while(o.classList.contains("disabled"));o.focus()}else{let o,l=1,u=t;do{u-l<0?(u=i.length-1,o=i[u],l=0):o=i[u-l],l++}while(o.classList.contains("disabled"));o.focus()}else{let o,l=1;do{o=i[(t+l)%i.length],l++}while(o.classList.contains("disabled"));o.focus()}}getClosestTabIndex(e){const t=this.tabs.length;if(!t)return-1;for(let i=1;i<=t;i+=1){const o=e-i,l=e+i;if(this.tabs[o]&&!this.tabs[o].disabled)return o;if(this.tabs[l]&&!this.tabs[l].disabled)return l}return-1}hasAvailableTabs(e){const t=this.tabs.length;if(!t)return!1;for(let i=0;i<t;i+=1)if(!this.tabs[i].disabled&&i!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}static#e=this.\u0275fac=function(t){return new(t||r)(s.Y36(C),s.Y36(s.Qsj),s.Y36(s.SBq))};static#t=this.\u0275cmp=s.Xpm({type:r,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,i){2&t&&s.ekj("tab-container",i.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:b,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,i){1&t&&(s.F$t(),s.TgZ(0,"ul",0),s.NdJ("click",function(l){return l.preventDefault()}),s.YNc(1,a,5,17,"li",1),s.qZA(),s.TgZ(2,"div",2),s.Hsn(3),s.qZA()),2&t&&(s.Q6J("ngClass",i.classMap),s.uIk("aria-label",i.ariaLabel),s.xp6(1),s.Q6J("ngForOf",i.tabs))},dependencies:[d.mk,d.sg,d.O5,n],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]})}return r})(),p=(()=>{class r{get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)}),this._customClass=e?e.trim():"",this.customClass&&this.customClass.split(" ").forEach(t=>{this.renderer.addClass(this.elementRef.nativeElement,t)})}get active(){return this._active}set active(e){if(this._active!==e){if(this.disabled&&e||!e)return void(this._active&&!e&&(this.deselect.emit(this),this._active=e));this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(t=>{t!==this&&(t.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(e,t,i){this.elementRef=t,this.renderer=i,this.disabled=!1,this.removable=!1,this.selectTab=new s.vpe,this.deselect=new s.vpe,this.removed=new s.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=e,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}static#e=this.\u0275fac=function(t){return new(t||r)(s.Y36(v),s.Y36(s.SBq),s.Y36(s.Qsj))};static#t=this.\u0275dir=s.lG2({type:r,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,i){2&t&&(s.uIk("id",i.id)("role",i.role)("aria-labelledby",i.ariaLabelledby),s.ekj("active",i.active)("tab-pane",i.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]})}return r})(),m=(()=>{class r{static forRoot(){return{ngModule:r,providers:[]}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=s.oAB({type:r});static#s=this.\u0275inj=s.cJS({imports:[d.ez]})}return r})()}}]);